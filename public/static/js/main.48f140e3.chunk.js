(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/logo.831d1b10.png"},113:function(e,t,a){e.exports=a(143)},118:function(e,t,a){},119:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(29),r=a.n(l),i=(a(118),a(32)),c=a(33),s=a(63),m=a(54),u=a(64),d=(a(119),a(111)),g=a(12),p=a(74),h=a(53),f=a(75),v=(a(126),a(104)),E=a.n(v),b=a(105),y=a(52);function M(){var e=Object(b.a)(["\n  query getEarthquakes(\n    $fromDate: String\n    $toDate: String\n    $minMagnitude: Float\n    $maxMagnitude: Float\n    $latitude: Float\n    $longitude: Float\n    $radius: Float\n  ) {\n    earthquakes(\n      fromDate: $fromDate\n      toDate: $toDate\n      minMagnitude: $minMagnitude\n      maxMagnitude: $maxMagnitude\n      latitude: $latitude\n      longitude: $longitude\n      radius: $radius\n    ) {\n      properties {\n        mag\n        place\n      }\n      geometry {\n        coordinates\n      }\n      id\n    }\n  }\n"]);return M=function(){return e},e}var j=a.n(y)()(M()),k=a(73),O=a(45),N=new(function(){function e(){Object(i.a)(this,e),this.events={}}return Object(c.a)(e,[{key:"on",value:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"off",value:function(e,t){if(this.events[e])for(var a=0;a<this.events[e].length;a++)if(this.events[e][a]===t){this.events[e].splice(a,1);break}}},{key:"emit",value:function(e,t){this.events[e]&&this.events[e].forEach(function(e){return e(t)})}}]),e}()),w=function(e){var t=e.props,a=t.location,n=a.latitude,l=a.longitude,r=t.fromDate,i=t.toDate,c=t.minMagnitude,s=t.maxMagnitude,m=t.radius;Object(O.a)(function(e){var t=e.graphQLErrors,a=e.networkError;t&&t.map(function(e){var t=e.message,a=e.locations,n=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(a,", Path: ").concat(n))}),a&&console.log("[Network error]: ".concat(a))});var u=Object(k.a)(j,{variables:{latitude:parseFloat(n),longitude:parseFloat(l),fromDate:r,toDate:i,minMagnitude:parseFloat(c),maxMagnitude:parseFloat(s),radius:parseFloat(m)}}),d=u.loading,g=u.error,p=u.data.earthquakes;return d?"Loading...":g?o.a.createElement("p",null,g.message):p&&p.length>0?(N.emit("earthquakes",p),p.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},e.properties.place),o.a.createElement("p",{className:"card-text"},"Magnitude ",e.properties.mag))))})):o.a.createElement("p",null,"No records founds")},S=a(30),D="AIzaSyDV76krUR_b9kdySGwWJ5Zdp1Vqlm1uZaA",x=a(110),C=a.n(x),$=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.onDateSelect=function(e,t){a.setState(Object(p.a)({},e,t))},a.onSubmit=function(e){e.preventDefault(),console.log(a.state.location),a.setState({isSubmitted:!0})};var n=new Date;return n.setMonth(n.getMonth()-2),a.state={location:{name:"",latitude:"",longitude:""},minMagnitude:6,maxMagnitude:8,radius:300,fromDate:n,toDate:new Date,isSubmitted:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("h1",null,o.a.createElement("img",{src:E.a,alt:"Quaky Earth",className:"logo"})," Quaky Earth"),o.a.createElement("hr",null),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement(C.a,{className:"form-control",placeholder:"Search Places",types:["(regions)"],onPlaceSelected:function(t){e.setState({location:{latitude:t.geometry.location.lat(),longitude:t.geometry.location.lng(),name:t.formatted_address}}),N.emit("placeSelected",e.state.location)}})),o.a.createElement("label",null,"Magnitude Range"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-5"},o.a.createElement("input",{type:"text",className:"form-control minMag-input",placeholder:"Minumun magnitude",name:"minMagnitude",value:this.state.minMagnitude,onChange:this.onChange})),o.a.createElement("span",{className:"col-md-2"}," to"),o.a.createElement("div",{className:"form-group col-md-5"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Maximum magnitude maxMag-input",name:"maxMagnitude",value:this.state.maxMagnitude,onChange:this.onChange}))),o.a.createElement("label",null,"Radius ( km )"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Radius",name:"radius",value:this.state.radius,onChange:this.onChange}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",null,"From "),o.a.createElement(f.a,{className:"form-control",selected:this.state.fromDate,value:this.state.fromDate,onChange:function(t){return e.onDateSelect("fromDate",t)},dateFormat:"dd MMM yyyy"})),o.a.createElement("div",{className:"form-group col-md-6"},o.a.createElement("label",null,"To "),o.a.createElement(f.a,{className:"form-control",selected:this.state.toDate,value:this.state.toDate,onChange:function(t){return e.onDateSelect("toDate",t)},dateFormat:"dd MMM yyyy"}))),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",className:"btn"},"Search"))),o.a.createElement("hr",null),o.a.createElement("ul",null,this.state.isSubmitted&&o.a.createElement(w,{props:this.state})))}}]),t}(n.Component),F=Object(S.GoogleApiWrapper)({apiKey:"".concat(D),libraries:["places"]})($),q=a(39),W={width:"75vw",height:"100vh"},A=Object(S.GoogleApiWrapper)({apiKey:"".concat(D)})(function(e){var t=e.google,a=Object(n.useState)({lat:-37.8136,lng:144.9631,name:"Melbourne"}),l=Object(q.a)(a,1)[0],r=Object(n.useState)(!1),i=Object(q.a)(r,2),c=i[0],s=i[1],m=Object(n.useState)({}),u=Object(q.a)(m,2),d=u[0],g=u[1],p=Object(n.useState)({}),h=Object(q.a)(p,2),f=h[0],v=h[1],E=Object(n.useState)([]),b=Object(q.a)(E,2),y=b[0],M=b[1];return N.on("earthquakes",function(e){M(e)}),N.on("placeSelected",function(e){v(e)}),o.a.createElement(S.Map,{google:t,zoom:6,style:W,initialCenter:{lat:l.lat,lng:l.lng},center:{lat:f.latitude,lng:f.longitude}},o.a.createElement(S.Marker,{position:{lat:f.latitude||l.lat,lng:f.longitude||l.lng},title:f.name,name:f.name||l.name,onClick:function(e,t){g(t),s(!0)}}),y.length>0&&y.map(function(e,t){return o.a.createElement(S.Marker,{key:t,position:{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]},title:e.properties.place,name:e.properties.place,label:{text:"".concat(e.properties.mag),color:"yellow",fontWeight:"bold"},icon:{url:"https://maps.google.com/mapfiles/ms/micons/earthquake.png"},onClick:function(e,t){g(t),s(!0)}})}),o.a.createElement(S.InfoWindow,{marker:d,visible:c,onClose:function(){c&&(s(!1),g({}))}},o.a.createElement("div",null,o.a.createElement("strong",null,d.name))))}),G=new d.a({uri:"/graphql"}),L=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(g.a,{client:G},o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container-fluid h-100"},o.a.createElement("div",{className:"row h-100"},o.a.createElement("div",{className:"col-md-3"},o.a.createElement(F,null)),o.a.createElement("div",{className:"col-md-9"},o.a.createElement(A,null))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[113,1,2]]]);
//# sourceMappingURL=main.48f140e3.chunk.js.map